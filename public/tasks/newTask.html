<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Add New Task</title>
    <link rel="stylesheet" href="primer.scss" >
    <script src="d3.min.js" charset="utf8"></script>
    <style>
        body { background-color: #222222 }
        h1 { color: #eaf2f5 }
        td { width: 80px; }
        p  { color: #eaf2f5;}
    </style>
</head>

<body>
<p>You'll be able to add a new task using this page soon.</p>
<button onclick="window.close" >Close Window</button>

<form id="myForm" >
    <p>Title:
        <input type="text"
               name="title"
               size="15"
               maxlength="30"
               required="required">
    </p>
    <p>Description
        <textarea name="description"
                  cols="20"
                  rows="4">Enter here...</textarea>
    </p>
    <label for="dueDate" >Due date:</label>
    <input type="date" id="dueDate" />
    <br/>
    <input id="createTaskButton" type="submit" name="createTask" value="Create Task">
</form>

    <button id="saveTaskButton" >Save Task</button>

</body>
<script>

    d3.select("#saveTaskButton").on("click", saveTask);

    function saveTask() {

        $.ajax({
            type: "post",
            url: "http://localhost:8080/createTask",
            contentType : "application/json",
            mimeType : "application/json",
            data: { name:"John", location:"Boston" },
            method: "POST",
            dataType: "json",
            success: successAlert("Made AJAX POST request."),
            onError: errorAlert("Failed to make AJAX POST request.")
        });
    }

    function postCreateTask(){
        $.get("http://localhost:8080/prices", successAlert("Used jQuery to make get request."))
    }

    function successAlert(message) {
        alert("Success! " + message);
    }

    function errorAlert(message) {
        alert("Error: " + message);
    }

</script>
</html>